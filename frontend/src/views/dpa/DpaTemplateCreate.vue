<script setup lang="ts">
import { ref } from 'vue'
import Breadcrumb from '@/components/common/Breadcrumb.vue'

const formData = ref({
  name: '',
  type: 'single',
  layout: 'vertical',
  showPrice: true,
  showDiscount: true,
  buttonText: 'ç«‹å³è´­ä¹°'
})

const templateTypes = [
  { value: 'single', label: 'å•å“æ¨¡æ¿', icon: 'ğŸ¯', desc: 'å±•ç¤ºå•ä¸ªå•†å“' },
  { value: 'multi', label: 'å¤šå“æ¨¡æ¿', icon: 'ğŸª', desc: 'å±•ç¤ºå¤šä¸ªå•†å“' },
  { value: 'carousel', label: 'è½®æ’­æ¨¡æ¿', icon: 'ğŸ ', desc: 'æ»‘åŠ¨å±•ç¤ºå•†å“' }
]

const layouts = [
  { value: 'vertical', label: 'ç«–ç‰ˆ', ratio: '9:16' },
  { value: 'horizontal', label: 'æ¨ªç‰ˆ', ratio: '16:9' },
  { value: 'square', label: 'æ–¹å½¢', ratio: '1:1' }
]
</script>

<template>
  <div class="space-y-6">
    <div>
      <Breadcrumb :items="[{ name: 'DPAå•†å“å¹¿å‘Š' }, { name: 'åˆ›å»ºæ¨¡æ¿' }]" />
      <h1 class="text-3xl font-bold text-gray-900">åˆ›å»ºDPAæ¨¡æ¿</h1>
      <p class="mt-2 text-gray-600">åˆ›å»ºå•†å“åŠ¨æ€åˆ›æ„æ¨¡æ¿</p>
    </div>

    <div class="grid grid-cols-3 gap-6">
      <div class="col-span-2 bg-white rounded-lg border border-gray-200 p-6">
        <div class="space-y-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">æ¨¡æ¿åç§°</label>
            <input v-model="formData.name" type="text" placeholder="è¯·è¾“å…¥æ¨¡æ¿åç§°"
                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">æ¨¡æ¿ç±»å‹</label>
            <div class="grid grid-cols-3 gap-4">
              <div v-for="type in templateTypes" :key="type.value"
                   :class="['p-4 border-2 rounded-lg cursor-pointer text-center transition-all',
                            formData.type === type.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300']"
                   @click="formData.type = type.value">
                <span class="text-3xl">{{ type.icon }}</span>
                <p class="mt-2 font-medium text-gray-900">{{ type.label }}</p>
                <p class="text-xs text-gray-500">{{ type.desc }}</p>
              </div>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">å¸ƒå±€æ–¹å‘</label>
            <div class="flex gap-4">
              <div v-for="layout in layouts" :key="layout.value"
                   :class="['px-4 py-3 border-2 rounded-lg cursor-pointer',
                            formData.layout === layout.value ? 'border-blue-500 bg-blue-50' : 'border-gray-200']"
                   @click="formData.layout = layout.value">
                <span class="font-medium text-gray-900">{{ layout.label }}</span>
                <span class="text-xs text-gray-500 ml-2">{{ layout.ratio }}</span>
              </div>
            </div>
          </div>

          <div class="space-y-3">
            <label class="block text-sm font-medium text-gray-700">å±•ç¤ºå…ƒç´ </label>
            <label class="flex items-center gap-2 cursor-pointer">
              <input v-model="formData.showPrice" type="checkbox" class="rounded text-blue-600">
              <span class="text-sm text-gray-700">æ˜¾ç¤ºä»·æ ¼</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
              <input v-model="formData.showDiscount" type="checkbox" class="rounded text-blue-600">
              <span class="text-sm text-gray-700">æ˜¾ç¤ºæŠ˜æ‰£æ ‡ç­¾</span>
            </label>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">æŒ‰é’®æ–‡æ¡ˆ</label>
            <input v-model="formData.buttonText" type="text"
                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
          </div>

          <div class="flex justify-end gap-4 pt-4 border-t">
            <button class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">å–æ¶ˆ</button>
            <button class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">åˆ›å»ºæ¨¡æ¿</button>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg border border-gray-200 p-4">
        <h4 class="font-medium text-gray-900 mb-4">æ¨¡æ¿é¢„è§ˆ</h4>
        <div class="bg-gray-100 rounded-lg aspect-[9/16] flex items-center justify-center">
          <div class="text-center text-gray-400">
            <span class="text-4xl">ğŸ“±</span>
            <p class="mt-2 text-sm">æ¨¡æ¿é¢„è§ˆåŒºåŸŸ</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
